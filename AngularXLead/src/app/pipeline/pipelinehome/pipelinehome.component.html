<div class="container">
    <app-topcard 
      *ngFor="let card of topcardData"
      [amount]="card.amount" 
      [title]="card.title"
      [isCurrency]="card.isCurrency"
      [icon]="card.icon">
    </app-topcard>
  </div>
<div cdkDropListGroup class="card-container">
    <div *ngFor="let stage of stages; let i = index;" class="stage-card" 
    [class.collapsed]="stage.collapsed" 
    (mouseenter)="onMouseEnter(i)" 
    (mouseleave)="onMouseLeave(i)"
    (click)="toggleCollapse(i)">
        <app-dealheader [stageName]="stage.name" [amount]="stage.amount" [dealCount]="stage.deals.length" [collapsed]="stage.collapsed"></app-dealheader>
        <app-dealbody 
            *ngIf="!stage.collapsed"
            [deals]="stage.deals" 
            [connectedTo]="connectedDropLists"
            [stageName]="stage.name"
            (dealDropped)="onDealDropped($event)">
        </app-dealbody>
        <app-dealfooter *ngIf="stage.hover && !stage.collapsed"></app-dealfooter>
    <div *ngFor="let stage of stages;" class="stage-card">
        <app-dealheader [stageName]="stage.name" [amount]="stage.amount" [dealCount]="stage.deals.length"></app-dealheader>
          <app-dealbody 
              [deals]="stage.deals" 
              [connectedTo]="connectedDropLists"
              [stageName]="stage.name"
              (dealDropped)="onDealDropped($event)">
          </app-dealbody> 
    </div>
</div>
  